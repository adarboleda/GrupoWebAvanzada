# ğŸ“Š Diagrama de Flujo - Sistema de Ventas Tiki Taka

## Diagrama Principal del Sistema

```
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚     INICIO      â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚  Inicializar    â”‚
                            â”‚   Variables:    â”‚
                            â”‚  N, CN, A, B,   â”‚
                            â”‚  C, T1, T2, T3  â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚  Leer nÃºmero    â”‚
                            â”‚  de ventas (N)  â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚   CN = 0        â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚       CN < N?                   â”‚
                    â”‚       (Â¿Hay ventas pendientes?) â”‚
                    â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                       â”‚ NO                       â”‚ SÃ
                       â”‚                          â”‚
                       â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚                   â”‚ CN = CN + 1    â”‚
                       â”‚                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                          â”‚
                       â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚                   â”‚ Leer monto (V) â”‚
                       â”‚                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                          â”‚
                       â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚                   â”‚   V > 1000?    â”‚
                       â”‚                   â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                       â”‚                      â”‚ SÃ      â”‚ NO
                       â”‚                      â”‚         â”‚
                       â”‚                 â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”     â”‚
                       â”‚                 â”‚ A = A+1â”‚     â”‚
                       â”‚                 â”‚T1=T1+V â”‚     â”‚
                       â”‚                 â”‚Tipo='A'â”‚     â”‚
                       â”‚                 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜     â”‚
                       â”‚                      â”‚         â”‚
                       â”‚                      â”‚    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚                      â”‚    â”‚  V > 500?   â”‚
                       â”‚                      â”‚    â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                       â”‚                      â”‚       â”‚ SÃ   â”‚ NO
                       â”‚                      â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”  â”‚
                       â”‚                      â”‚  â”‚ B = B+1â”‚  â”‚
                       â”‚                      â”‚  â”‚T2=T2+V â”‚  â”‚
                       â”‚                      â”‚  â”‚Tipo='B'â”‚  â”‚
                       â”‚                      â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â”‚
                       â”‚                      â”‚       â”‚      â”‚
                       â”‚                      â”‚       â”‚ â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”
                       â”‚                      â”‚       â”‚ â”‚ C = C+1â”‚
                       â”‚                      â”‚       â”‚ â”‚T3=T3+V â”‚
                       â”‚                      â”‚       â”‚ â”‚Tipo='C'â”‚
                       â”‚                      â”‚       â”‚ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                       â”‚                      â”‚       â”‚      â”‚
                       â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                              â”‚
                       â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚                   â”‚    TT = TT + V     â”‚
                       â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                              â”‚
                       â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚                   â”‚ Guardar venta en BDâ”‚
                       â”‚                   â”‚  (Modelo â†’ MySQL)  â”‚
                       â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                              â”‚
                       â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚                   â”‚ Mostrar resultado  â”‚
                       â”‚                   â”‚  (Vista â†’ React)   â”‚
                       â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                              â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚ Mostrar Resumen:â”‚
                            â”‚   A ventas tipo â”‚
                            â”‚   B ventas tipo â”‚
                            â”‚   C ventas tipo â”‚
                            â”‚   T1, T2, T3    â”‚
                            â”‚   TT (Total)    â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚      FIN        â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Flujo de Datos MVC

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FLUJO COMPLETO MVC                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. USUARIO â†’ VISTA (React)
   â”‚
   â”œâ”€> Ingresa monto en formulario
   â”‚
   â””â”€> onClick "Registrar Venta"
           â”‚
           â–¼
2. VISTA â†’ CONTROLADOR (API REST)
   â”‚
   â”œâ”€> POST http://localhost:3000/api/ventas
   â”‚
   â””â”€> Body: { "monto": 1500 }
           â”‚
           â–¼
3. CONTROLADOR â†’ MODELO
   â”‚
   â”œâ”€> VentasController.crearVenta()
   â”‚
   â””â”€> Llama a VentasModel.crearVenta(monto)
           â”‚
           â–¼
4. MODELO â†’ BASE DE DATOS
   â”‚
   â”œâ”€> Clasifica: tipo = monto > 1000 ? 'A' : (monto > 500 ? 'B' : 'C')
   â”‚
   â””â”€> INSERT INTO ventas (monto, tipo, fecha) VALUES (1500, 'A', NOW())
           â”‚
           â–¼
5. BASE DE DATOS â†’ MODELO
   â”‚
   â””â”€> Retorna: { id: 123, monto: 1500, tipo: 'A' }
           â”‚
           â–¼
6. MODELO â†’ CONTROLADOR
   â”‚
   â””â”€> Retorna resultado
           â”‚
           â–¼
7. CONTROLADOR â†’ VISTA
   â”‚
   â””â”€> Response JSON: { success: true, data: {...} }
           â”‚
           â–¼
8. VISTA â†’ USUARIO
   â”‚
   â”œâ”€> Actualiza estadÃ­sticas
   â”œâ”€> Agrega fila a tabla
   â””â”€> Muestra mensaje de Ã©xito
```

## Diagrama de ClasificaciÃ³n de Ventas

```
              Monto de Venta (V)
                     â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                   â”‚
      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
      â”‚ V > 1000?â”‚      â”‚  V â‰¤ 1000?  â”‚
      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚                   â”‚
        â”Œâ”€â”€â–¼â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
        â”‚ SÃ  â”‚         â”‚  V > 500?   â”‚
        â””â”€â”€â”¬â”€â”€â”˜         â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜
           â”‚               â”‚ SÃ    â”‚ NO
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â” â”‚
    â”‚  TIPO A     â”‚  â”‚  TIPO B  â”‚ â”‚
    â”‚  A = A + 1  â”‚  â”‚ B = B + 1â”‚ â”‚
    â”‚  T1 = T1+V  â”‚  â”‚ T2=T2+V  â”‚ â”‚
    â”‚  (> $1000)  â”‚  â”‚($500-$1k)â”‚ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                                  â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
                          â”‚   TIPO C    â”‚
                          â”‚  C = C + 1  â”‚
                          â”‚  T3 = T3+V  â”‚
                          â”‚  (â‰¤ $500)   â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Diagrama de Estados del Sistema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   INACTIVO     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ Usuario accede
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CARGANDO      â”‚ â† Consulta BD
â”‚   DATOS        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     LISTO      â”‚ â† Muestra interfaz
â”‚   (Idle)       â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
    â”‚        â”‚
    â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                   â”‚
    â”‚            â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            â”‚  REGISTRANDO  â”‚
    â”‚            â”‚     VENTA     â”‚
    â”‚            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                   â”‚
    â”‚            â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            â”‚  ACTUALIZANDO â”‚
    â”‚            â”‚  ESTADÃSTICAS â”‚
    â”‚            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Leyenda

| SÃ­mbolo | Significado |
|---------|-------------|
| â”Œâ”€â”     | Proceso     |
| â—‡       | DecisiÃ³n    |
| â†’       | Flujo       |
| â”Œâ”€â”€â”€â”   | Inicio/Fin  |
| â”‚...â”‚   | Datos       |

## Notas Importantes

1. **Ciclo Principal**: El sistema usa un ciclo MIENTRAS (while) que se repite hasta procesar todas las N ventas
2. **ClasificaciÃ³n**: La decisiÃ³n de clasificaciÃ³n se hace mediante condicionales anidados (if-else if-else)
3. **Acumuladores**: Se usan variables acumuladoras (T1, T2, T3, TT) para sumar los totales
4. **Persistencia**: Cada venta se guarda inmediatamente en la base de datos
5. **Tiempo Real**: Las estadÃ­sticas se actualizan automÃ¡ticamente en la vista
